<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>[Update] Watchdog On The Raspberry Pi | [self writeBlog];</title>
<meta name="keywords" content="raspberry pi, watchdog, arch linux">
<meta name="description" content="I was posting about the watchdog device on the raspberry pi a few days ago and how to solve a specific error with the configuration on the pi.
In the meantime I had the watchdog device running for a few days and it worked &hellip; kind of &hellip;
One should know, that the watchdog devices halts the pi immediately, so it&rsquo;s not a clean shutoff but more like you would pull the power plug of the pi.">
<meta name="author" content="Florian Harr">
<link rel="canonical" href="https://iflorian.com/update-watchdog-on-the-raspberry-pi/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7a798bee3c08158f2ab5c87cad44e192b44f1a9f6625a4a82d811696d8a67786.css" integrity="sha256-enmL7jwIFY8qtch8rUThkrRPGp9mJaSoLYEWltimd4Y=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://iflorian.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://iflorian.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://iflorian.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://iflorian.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://iflorian.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://iflorian.com/update-watchdog-on-the-raspberry-pi/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  mermaid.initialize({ startOnLoad: true, theme: 'default' });
  mermaid.contentLoaded();
</script>
<meta property="og:url" content="https://iflorian.com/update-watchdog-on-the-raspberry-pi/">
  <meta property="og:site_name" content="[self writeBlog];">
  <meta property="og:title" content="[Update] Watchdog On The Raspberry Pi">
  <meta property="og:description" content="I was posting about the watchdog device on the raspberry pi a few days ago and how to solve a specific error with the configuration on the pi.
In the meantime I had the watchdog device running for a few days and it worked … kind of …
One should know, that the watchdog devices halts the pi immediately, so it’s not a clean shutoff but more like you would pull the power plug of the pi.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2017-02-14T00:56:10+00:00">
    <meta property="article:modified_time" content="2017-02-14T00:56:10+00:00">
    <meta property="article:tag" content="Raspberry Pi">
    <meta property="article:tag" content="Watchdog">
    <meta property="article:tag" content="Arch Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[Update] Watchdog On The Raspberry Pi">
<meta name="twitter:description" content="I was posting about the watchdog device on the raspberry pi a few days ago and how to solve a specific error with the configuration on the pi.
In the meantime I had the watchdog device running for a few days and it worked &hellip; kind of &hellip;
One should know, that the watchdog devices halts the pi immediately, so it&rsquo;s not a clean shutoff but more like you would pull the power plug of the pi.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://iflorian.com/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "[Update] Watchdog On The Raspberry Pi",
      "item": "https://iflorian.com/update-watchdog-on-the-raspberry-pi/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "[Update] Watchdog On The Raspberry Pi",
  "name": "[Update] Watchdog On The Raspberry Pi",
  "description": "I was posting about the watchdog device on the raspberry pi a few days ago and how to solve a specific error with the configuration on the pi.\nIn the meantime I had the watchdog device running for a few days and it worked \u0026hellip; kind of \u0026hellip;\nOne should know, that the watchdog devices halts the pi immediately, so it\u0026rsquo;s not a clean shutoff but more like you would pull the power plug of the pi.\n",
  "keywords": [
    "raspberry pi", "watchdog", "arch linux"
  ],
  "articleBody": "I was posting about the watchdog device on the raspberry pi a few days ago and how to solve a specific error with the configuration on the pi.\nIn the meantime I had the watchdog device running for a few days and it worked … kind of …\nOne should know, that the watchdog devices halts the pi immediately, so it’s not a clean shutoff but more like you would pull the power plug of the pi.\nSecond, the defaults that are set in the watchdog config are really not great for the raspberry pi. I’ve upped the 15 min max load max-load-15 to 45 and the results weren’t too pleasant. Every time the pi had to compile something or do some heavy lifting, the watchdog device would kill my pi. So far not a problem, until I was about to compile another long running job and the pi died in between.\nUpon reboot I got greeted by an emergency boot telling me to run fsck manually. What happened was that the ext4 filesystem badly crashed, beyond the point of repair and my OS setup was gone …\nSo before setting up the watchdog device on your pi, you should consider checking your max-load values and set them to an appropriate value. Oh and a backup of your data helps too. I had one, from a year ago … when duply stopped working …\n",
  "wordCount" : "234",
  "inLanguage": "en",
  "datePublished": "2017-02-14T00:56:10Z",
  "dateModified": "2017-02-14T00:56:10Z",
  "author":{
    "@type": "Person",
    "name": "Florian Harr"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://iflorian.com/update-watchdog-on-the-raspberry-pi/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "[self writeBlog];",
    "logo": {
      "@type": "ImageObject",
      "url": "https://iflorian.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://iflorian.com/" accesskey="h" title="[self writeBlog]; (Alt + H)">[self writeBlog];</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://iflorian.com/contact" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://iflorian.com/about" title="About me">
                    <span>About me</span>
                </a>
            </li>
            <li>
                <a href="https://iflorian.com/euc" title="EUC">
                    <span>EUC</span>
                </a>
            </li>
            <li>
                <a href="https://iflorian.com/" title="My Blog">
                    <span>My Blog</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      [Update] Watchdog On The Raspberry Pi
    </h1>
    <div class="post-meta"><span title='2017-02-14 00:56:10 +0000 UTC'>February 14, 2017</span>&nbsp;·&nbsp;<span>Florian Harr</span>

</div>
  </header> 
  <div class="post-content"><p>I was posting about the watchdog device on the raspberry pi a few days ago and how to solve a specific error with the configuration on the pi.</p>
<p>In the meantime I had the watchdog device running for a few days and it worked &hellip; kind of &hellip;</p>
<p>One should know, that the watchdog devices halts the pi immediately, so it&rsquo;s not a clean shutoff but more like you would pull the power plug of the pi.</p>
<p>Second, the defaults that are set in the watchdog config are really not great for the raspberry pi. I&rsquo;ve upped the 15 min max load <code>max-load-15</code> to 45 and the results weren&rsquo;t too pleasant.
Every time the pi had to compile something or do some heavy lifting, the watchdog device would kill my pi. So far not a problem, until I was about to compile another long running job and the pi died in between.<br>
Upon reboot I got greeted by an emergency boot telling me to run fsck manually. What happened was that the ext4 filesystem badly crashed, beyond the point of repair and my OS setup was gone &hellip;</p>
<p>So before setting up the watchdog device on your pi, you should consider checking your max-load values and set them to an appropriate value. Oh and a backup of your data helps too. I had one, from a year ago &hellip; when duply stopped working &hellip;</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://iflorian.com/tags/raspberry-pi/">Raspberry Pi</a></li>
      <li><a href="https://iflorian.com/tags/watchdog/">Watchdog</a></li>
      <li><a href="https://iflorian.com/tags/arch-linux/">Arch Linux</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>All rights reserved - 2024</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script>
(function() {
  'use strict';

  
  const aiContent = document.querySelectorAll('.ai-assisted');
  if (aiContent.length === 0) return;

  
  const STORAGE_KEY = 'ai-indicators-visible';
  const savedState = localStorage.getItem(STORAGE_KEY);
  const isVisible = savedState === 'true';

  
  if (isVisible) {
    document.body.classList.add('ai-indicators-visible');
  }

  
  const button = document.createElement('button');
  button.className = 'ai-toggle-btn';
  button.setAttribute('aria-label', 'Toggle AI content indicators');
  button.setAttribute('aria-pressed', isVisible);
  button.title = isVisible ? 'Hide AI indicators' : 'Show AI indicators';
  button.innerHTML = isVisible ? '✨ Hide AI' : '✨ Show AI';

  
  button.style.cssText = `
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    padding: 0.5rem 1rem;
    background: rgba(139, 92, 246, 0.9);
    color: white;
    border: none;
    border-radius: 2rem;
    cursor: pointer;
    font-size: 0.875rem;
    font-weight: 500;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
    z-index: 1000;
    font-family: inherit;
  `;

  
  button.addEventListener('mouseenter', function() {
    this.style.background = 'rgba(139, 92, 246, 1)';
    this.style.transform = 'scale(1.05)';
  });

  button.addEventListener('mouseleave', function() {
    this.style.background = 'rgba(139, 92, 246, 0.9)';
    this.style.transform = 'scale(1)';
  });

  
  button.addEventListener('click', function() {
    const newState = !document.body.classList.contains('ai-indicators-visible');

    
    document.body.classList.toggle('ai-indicators-visible');

    
    button.setAttribute('aria-pressed', newState);
    button.title = newState ? 'Hide AI indicators' : 'Show AI indicators';
    button.innerHTML = newState ? '✨ Hide AI' : '✨ Show AI';

    
    localStorage.setItem(STORAGE_KEY, newState);
  });

  
  document.body.appendChild(button);

  
  button.addEventListener('keydown', function(e) {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      this.click();
    }
  });
})();
</script>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
